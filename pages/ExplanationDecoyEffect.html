<!doctype html>
<html lang=”en”>
<head>
    <meta charset=”utf-8">
    <link rel="stylesheet" type="text/css" href="recipe-form.css">
    <link rel="stylesheet" type="text/css" href="recipes.css">
    <title>Choose Your recipe</title>
</head>
<body onload="onLoad()">
<form action="/add_result" method="POST" id="form">
    <input type="hidden" name="group_id" value="6-explanation-decoy"/>
    <input type="hidden" name="user_id" value=""/>
        <div class="recipe-form__Layout">
            <p class="recipe-form__label">Choose exactly one of the following recipes: </p>
            <div class="recipe-form__number">
                <p id="recipe_num">
                    1/6
                </p>
            </div>
            <div class="recipe-form__container" style="display: none">
                <div class="recipe-form__recipe-container-decoy">
                    <p class="recipe-form__recipe-title">Fried Mac and Cheese Balls</p>
                    <div class="recipe-form__recipe">
                        <div class="fried-mac-cheese-balls"></div>
                    </div>
                    <label class="recipe-form__recipe-explanation">
                        This recipe contains 147mg of cholesterol and 543 calories.
                    </label>
                    <input type="radio" name="recipe1" value="unhealthy"/>
                </div>
                <div class="recipe-form__recipe-container-decoy">
                    <p class="recipe-form__recipe-title">Hawaiian Macaroni Salad</p>
                    <div class="recipe-form__recipe">
                        <div class="mac-salad-hawaii"></div>
                    </div>
                    <label class="recipe-form__recipe-explanation">
                        This recipe contains 15mg of cholesterol and 465 calories.
                    </label>
                    <input type="radio" name="recipe1" value="decoy"/>
                </div>
                <div class="recipe-form__recipe-container-decoy">
                    <p class="recipe-form__recipe-title">Classic Macaroni Salad</p>
                    <div class="recipe-form__recipe">
                        <div class="classic-macaroni-salad"></div>
                    </div>
                    <label class="recipe-form__recipe-explanation">
                        This recipe contains 8mg of cholesterol and 390 calories.
                    </label>
                    <input type="radio" name="recipe1" value="healthy"/>
                </div>
                <button class="recipe-form__button" onclick="nextRecipe(0)" type="button">OK</button>
            </div>
            <div class="recipe-form__container" style="display: none">
                <div class="recipe-form__recipe-container-decoy">
                    <p class="recipe-form__recipe-title">Cheeseburger Quesadilla</p>
                    <div class="recipe-form__recipe">
                        <div class="cheeseburger-quesadilla"></div>
                    </div>
                    <label class="recipe-form__recipe-explanation">
                        This recipe contains 196mg of cholesterol and 1054 calories.
                    </label>
                    <input type="radio" name="recipe2" value="unhealthy"/>
                </div>
                <div class="recipe-form__recipe-container-decoy">
                    <p class="recipe-form__recipe-title">Butter Bean Burgers</p>
                    <div class="recipe-form__recipe">
                        <div class="butter-burger"></div>
                    </div>
                    <label class="recipe-form__recipe-explanation">
                        This recipe contains 61mg of cholesterol and 297 calories.
                    </label>
                    <input type="radio" name="recipe2" value="decoy"/>
                </div>
                <div class="recipe-form__recipe-container-decoy">
                    <p class="recipe-form__recipe-title">Homemade Black Bean Veggie Burgers</p>
                    <div class="recipe-form__recipe">
                        <div class="veggie-burgers"></div>
                    </div>
                    <label class="recipe-form__recipe-explanation">
                        This recipe contains 47mg of cholesterol and 198 calories.
                    </label>
                    <input type="radio" name="recipe2" value="healthy"/>
                </div>
                <button class="recipe-form__button" onclick="nextRecipe(1)" type="button">OK</button>
            </div>
            <div class="recipe-form__container" style="display: none">
                <div class="recipe-form__recipe-container-decoy">
                    <p class="recipe-form__recipe-title">Baked Buffalo Chicken Mac and Cheese</p>
                    <div class="recipe-form__recipe">
                        <div class="baked-buffalo"></div>
                    </div>
                    <label class="recipe-form__recipe-explanation">
                        This recipe contains 180mg of cholesterol and 917 calories.
                    </label>
                    <input type="radio" name="recipe3" value="unhealthy"/>
                </div>
                <div class="recipe-form__recipe-container-decoy">
                    <p class="recipe-form__recipe-title">Cold Chicken Macaroni Salad</p>
                    <div class="recipe-form__recipe">
                        <div class="cold-salad"></div>
                    </div>
                    <label class="recipe-form__recipe-explanation">
                        This recipe contains 120mg of cholesterol and 469 calories.
                    </label>
                    <input type="radio" name="recipe3" value="decoy"/>
                </div>
                <div class="recipe-form__recipe-container-decoy">
                    <p class="recipe-form__recipe-title">No-Mayo Chicken Salad</p>
                    <div class="recipe-form__recipe">
                        <div class="chicken-salad"></div>
                    </div>
                    <label class="recipe-form__recipe-explanation">
                        This recipe contains 7mg of cholesterol and 38 calories.
                    </label>
                    <input type="radio" name="recipe3" value="healthy"/>
                </div>
                <button class="recipe-form__button" onclick="nextRecipe(2)" type="button">OK</button>
            </div>
            <div class="recipe-form__container" style="display: none">
                <div class="recipe-form__recipe-container-decoy">
                    <p class="recipe-form__recipe-title">Baked Apple Cider Donuts</p>
                    <div class="recipe-form__recipe">
                        <div class="apple-donuts"></div>
                    </div>
                    <label class="recipe-form__recipe-explanation">
                        This recipe contains 32mg of cholesterol and 295 calories.
                    </label>
                    <input type="radio" name="recipe4" value="unhealthy"/>
                </div>
                <div class="recipe-form__recipe-container-decoy">
                    <p class="recipe-form__recipe-title">Baked Apples</p>
                    <div class="recipe-form__recipe">
                        <div class="baked-apples"></div>
                    </div>
                    <label class="recipe-form__recipe-explanation">
                        This recipe contains 31mg of cholesterol and 270 calories.
                    </label>
                    <input type="radio" name="recipe4" value="decoy"/>
                </div>
                <div class="recipe-form__recipe-container-decoy">
                    <p class="recipe-form__recipe-title">Delicious Cinnamon Baked Apples</p>
                    <div class="recipe-form__recipe">
                        <div class="cinnamon-apples"></div>
                    </div>
                    <label class="recipe-form__recipe-explanation">
                        This recipe contains 2mg of cholesterol and 147 calories.
                    </label>
                </div>
                <button class="recipe-form__button" onclick="nextRecipe(3)" type="button">OK</button>
            </div>
            <div class="recipe-form__container" style="display: none">
                <div class="recipe-form__recipe-container-decoy">
                    <p class="recipe-form__recipe-title">Baked French Toast</p>
                    <div class="recipe-form__recipe">
                        <div class="baked-french-toast"></div>
                    </div>
                    <label class="recipe-form__recipe-explanation">
                        This recipe contains 169mg of cholesterol and 395 calories.
                    </label>
                    <input type="radio" name="recipe5" value="unhealthy"/>
                </div>
                <div class="recipe-form__recipe-container-decoy">
                    <p class="recipe-form__recipe-title">Air Fryer French Toast</p>
                    <div class="recipe-form__recipe">
                        <div class="air-fryer-toast"></div>
                    </div>
                    <label class="recipe-form__recipe-explanation">
                        This recipe contains 102mg of cholesterol and 145 calories.
                    </label>
                    <input type="radio" name="recipe5" value="decoy"/>
                </div>
                <div class="recipe-form__recipe-container-decoy">
                    <p class="recipe-form__recipe-title">Air Fryer French Toast Sticks</p>
                    <div class="recipe-form__recipe">
                        <div class="air-fryer-sticks"></div>
                    </div>
                    <label class="recipe-form__recipe-explanation">
                        This recipe contains 34mg of cholesterol and 48 calories.
                    </label>
                    <input type="radio" name="recipe5" value="healthy"/>
                </div>
                <button class="recipe-form__button" onclick="nextRecipe(4)" type="button">OK</button>
            </div>
            <div class="recipe-form__container" style="display: none">
                <div class="recipe-form__recipe-container-decoy">
                    <p class="recipe-form__recipe-title">Chocolate Mint Cookies</p>
                    <div class="recipe-form__recipe">
                        <div class="chocolate-cookie"></div>
                    </div>
                    <label class="recipe-form__recipe-explanation">
                        This recipe contains 39g of sugars and 364 calories.
                    </label>
                    <input type="radio" name="recipe6" value="unhealthy"/>
                </div>
                <div class="recipe-form__recipe-container-decoy">
                    <p class="recipe-form__recipe-title">Crisp Oatmeal Cookies</p>
                    <div class="recipe-form__recipe">
                        <div class="crisp-oatmeal-cookies"></div>
                    </div>
                    <label class="recipe-form__recipe-explanation">
                        This recipe contains 11g of sugars and 127 calories.
                    </label>
                    <input type="radio" name="recipe6" value="decoy"/>
                </div>
                <div class="recipe-form__recipe-container-decoy">
                    <p class="recipe-form__recipe-title">Clean Banana Oat Cookies</p>
                    <div class="recipe-form__recipe">
                        <div class="banana-cookie"></div>
                    </div>
                    <label class="recipe-form__recipe-explanation">
                        This recipe contains 3g of sugars and 55 calories.
                    </label>
                    <input type="radio" name="recipe6" value="healthy"/>
                </div>
                <button class="recipe-form__button" onclick="nextRecipe(5)" type="button">OK</button>
            </div>
        </div>
</form>
</body>
<script>
    let arrayRandom = [0,1,2,3,4,5];
    let currentPage = 1;
    function onLoad() {
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        document.getElementsByName("user_id")[0].value = urlParams.get('user_id')
        var item = arrayRandom[Math.floor(Math.random()*arrayRandom.length)];
        document.getElementsByClassName("recipe-form__container")[item].style.display = "flex";
    }

    function nextRecipe(current) {
        let checked = false
        document.getElementsByName("recipe" + (current + 1)).forEach(
            (c) => {
                if (c.checked) checked = true;
            }
        );

        if (checked) {
            const index = arrayRandom.indexOf(current);
            arrayRandom.splice(index, 1);
            if (arrayRandom.length === 0) {
                document.getElementById("form").submit()
            }
            else {
                var item = arrayRandom[Math.floor(Math.random() * arrayRandom.length)];
                document.getElementsByClassName("recipe-form__container")[current].style.display = "none";
                document.getElementsByClassName("recipe-form__container")[item].style.display = "flex";
                document.getElementById("recipe_num").innerHTML = (++currentPage).toString() + "/6"
            }
        }
    }
</script>
</html>


